# 勉強日記

## 日付
2026年02月22日

## 学習内容
- apt と dnf の主な違い

| 項目 | apt (Advanced Package Tool) | dnf (Dandified YUM) |
| :--- | :--- | :--- |
| **主なOS** | Debian, Ubuntu, Linux Mint | Amazon Linux 2023, Fedora, RHEL, AlmaLinux |
| **パッケージ形式** | .deb | .rpm |
| **歴史的背景** | 長年 Debian 系の標準。 | yum の後継。依存関係の解決が高速化された。 |
| **コマンド感** | 非常に標準的で、解説記事が最も多い。 | 履歴管理（dnf history）が強力で、巻き戻しが容易。 |
| **設定ファイル** | /etc/apt/sources.list | /etc/dnf/dnf.conf, /etc/yum.repos.d/ |

- CloudWatchAgentのEC2へのインストール方法
    - dnfを使用する場合は以下のコマンドを実行する
        ```bash
        sudo dnf install -y amazon-cloudwatch-agent
        ```
    - System ManagerのRunComandからでもCloudWatchAgentをインストールすることが可能

- CloudWatchAgentを大量のEC2にインストールするには、CloudFormationよりもSystem Managerが一般的
- 実際の入れ方の手順
    1. SSM Quick Setupで<span style="color: red; ">特定のタグがついているEC2</span>へAgentを一括でインストールできる。
    2. SSM ステートマネージャー (State Manager)でEC2にAgentがあることをデフォルトとしておけば、後は自動的にEC2へAgentがインストールされる。
    3. CloudFormationを使って、IAMロールをEC2へ配布することと、config.jsonをSSMパラメータストアへ保存することを実行する。

## 参考
https://blog.serverworks.co.jp/ssm-install-cwagent


