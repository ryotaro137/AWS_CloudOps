# 勉強日記

## 日付
2026年02月25日

## 学習内容

## EventBridge Pipes
- **概要**: イベントソースとターゲットを直接、簡単に接続するポイントツーポイント統合サービス。
- **試験ポイント**: 「Lambdaレス」での統合（ポーリングや整形の自動化）や、Event Bus（1対多）との違い（1対1）が頻出。
- **実務での使い方**: SQSやDynamoDB Streamsからのイベントをフィルター・変換してStep Functions等へ流す。Lambdaの中継を減らし、管理コストを削減する。
- **副業での需要**: ★★★★★。構成の簡素化やコスト最適化提案の武器になる。GitHub Actionsとの連携などモダンな開発環境で重宝される。

## グルーコード（Glue Code）
- **概要**: サービス同士を連携させるためだけに書かれる繋ぎのコード（主にLambda）。
- **試験ポイント**: 「最小の運用管理（Least Operational Overhead）」を求められた際、グルーコードを減らしマネージドサービス（Pipes等）を使うのが正解。
- **実務での使い方**: データのポーリングや簡単な整形をPipesやStep Functionsに任せ、Lambdaレス構成を目指すことで保守性を高める。
- **副業での需要**: ★★★★★。複雑化したサーバーレス構成の整理・合理化案件は単価が高く、プロとしての腕の見せ所。

## AWSにおける主要なポリシー（実務・試験）
- **概要**: SCP（ガードレール）、リソースベース（S3/KMS）、ライフサイクル（コスト/運用）など、目的別の統制。
- **試験ポイント**: SCPによる最強の制限、クロスアカウント時のリソースベースポリシーの必要性、Trust Policyによるサービスへの権限付与。
- **実務での使い方**: ライフサイクルポリシーでストレージ費用を自動削減し、AWS BackupポリシーでDR対策を確実に実施する。
- **副業での需要**: ★★★★★。ガバナンス設計やコスト削減施策として提案しやすく、高い専門性をアピールできる。

## RDSのモニタリング制約と代替手段
- **概要**: マネージドサービスのためSSM Agentの導入は不可。
- **試験ポイント**: OSアクセスができない特性を理解し、モニタリングには「拡張モニタリング（OSレベル）」「Performance Insights（SQLレベル）」を適切に選択する。
- **実務での使い方**: 基本はCloudWatchで監視し、トラブル調査時に拡張モニタリング（1秒間隔）やPerformance Insightsを活用してボトルネックを特定する。
- **副業での需要**: ★★★★★。ボトルネックを特定してコスト削減や性能改善に繋げるスキルは、単価の高いトラブルシュート案件で必須。

## ALB vs NLB の使い分け（API設計）
- **概要**: ALBはL7（HTTP/パスベース）、NLBはL4（TCP/固定IP/超高性能）。
- **試験ポイント**: ルーティングの柔軟性（ALB）か、パフォーマンスと固定IP（NLB）か。突然のスパイク対応ならNLB。
- **実務での使い方**: 基本はALBでWAF連携やパス制御を行う。セキュリティ要件で固定IPが必要な場合や、低レイテンシ必須の基盤ではNLBを採用。
- **副業での需要**: ★★★★★。既存ALBの固定IP化や、高負荷APIのボトルネック解消提案で非常に価値が高い知識。

## ECS デプロイ戦略の種類と設定
- **概要**: ローリング（順次置換）、ブルー/グリーン（環境切替）、カナリア（段階的移行）。
- **試験ポイント**: ローリングの `minimumHealthyPercent` / `maximumPercent` の計算問題。即時ロールバックならブルー/グリーン。
- **実務での使い方**: 通常はローリング（100%/200%）でコストと可用性を両立。極めて高い信頼性が必要な場合はECSネイティブのブルー/グリーンやカナリア機能を活用。
- **副業での需要**: ★★★★★。CI/CDの自動化とセットで「安全なデプロイ」を提案できるスキルは、モダンな開発現場で高単価。

## Auto Scaling スケーリングの種類とCloudWatch連携
- **概要**: ターゲット追跡（目標値維持）、ステップ（段階的）、予測（機械学習）、スケジュール（時間指定）。
- **試験ポイント**: CloudWatchアラームを直接使うのは「ステップ/シンプル」。ターゲット追跡はアラーム管理もAWS任せ。ダウンタイム最小化なら「予測」や「スケジュール」。
- **実務での使い方**: 基本はターゲット追跡で運用。起動の遅いアプリは予測スケーリングを、曜日変動があるならスケジュールを組み合わせてコストと性能を両立させる。
- **副業での需要**: ★★★★★。コスト削減施策として即座に数字が出せるため、スポットのコンサル案件で非常に評価されやすい。

## S3 クロスリージョンレプリケーション (CRR)
- **概要**: 異なるリージョンのバケットへオブジェクトを自動転送するDR機能。
- **試験ポイント**: 両バケットでの「バージョニング有効化」が必須。既存のオブジェクトは「S3 Batch Operations」が必要。
- **実務での使い方**: リージョン障害に備えたDR対策や、コンプライアンス要件（地理的分散）を満たすために設定。
- **副業での需要**: ★★★★★。高可用性インフラの設計において、バックアップ・復旧の信頼性を高める提案として非常に強力。

## VPC Block Public Access (BPA)
- **概要**: リージョン単位でVPCリソースへのインターネットアクセスを一括防止する最強の防御壁。
- **試験ポイント**: SGやNACLの設定よりも優先される。双方向（Bidirectional）か、インバウンドのみ（Ingress-only）かを選択可能。
- **実務での使い方**: 設定ミスによる意図しない公開を防ぐ「ガードレール」として運用。特定のサブネットだけを除外設定して柔軟に運用する。
- **副業での需要**: ★★★★★。低コストで劇的にセキュリティを高める「即効性のある提案」として非常に有効。

## IAMポリシー：IP制限の論理とベストプラクティス
- **概要**: `NotIpAddress` と `Allow` の組み合わせが意図しない全許可を生むリスクの理解。
- **試験ポイント**: 「社外IPなら拒否（NotIpAddress + Deny）」という明示的な拒否の重要性。論理の「ひっかけ」の特定。
- **実務での使い方**: Whitelist形式（これだけ許可）より、Denyによる追加ガードレール（これ以外は拒否）を組み合わせて2層で守る。
- **副業での需要**: ★★★★★。セキュリティ診断や設定見直し案件で、見落とされがちな「論理の隙」を埋める提案は非常に価値が高い。

## KMS：暗号化AMIのクロスアカウント共有
- **概要**: 共有には「カスタマー管理キー(CMK)」が必須。マネージドキーは共有不可。
- **試験ポイント**: CMKのキーポリシーで共有先を許可し、共有先で「再暗号化を伴うAMIコピー」を行う手順が頻出。
- **実務での使い方**: 開発から本番へのイメージ配布で使用。起動失敗時はKMSのアクセス権限（CreateGrant等）を真っ先に疑う。
- **副業での需要**: ★★★★★。安全なゴールデンイメージの配布設計は、統制の厳しい企業案件で重宝される専門スキル。

## kubeconfig ファイルの役割
- **概要**: Kubernetesクラスターへの接続情報（接続先、ユーザー、設定）を管理する設定ファイル。
- **試験ポイント**: クラスター、ユーザー、コンテキストの3要素を理解。EKSではIAMと連携して認証を行う設定が一般的。
- **実務での使い方**: `aws eks update-kubeconfig` で自動生成。複数のクラスターを「コンテキスト」で切り替えて安全に運用する。
- **副業での需要**: ★★★★★。EKSのアクセス権限管理（RBAC/IAM連携）とセットで、開発効率を高めるインフラ設計として需要が高い。

## VPC フローログ：主要フィールドと活用
- **概要**: VPC内のIPトラフィックを記録。トラブル調査やセキュリティ監査の証拠。
- **試験ポイント**: `action`（許可/拒否）による切り分け。最新フィールド（`pkt-srcaddr`等）による、より深いパケット解析。
- **実務での使い方**: CloudWatch Logs InsightsやAthenaを使って「拒否された通信」を特定。実環境の通信実態を把握して最小権限（Least Privilege）を適用。
- **副業での需要**: ★★★★★。セキュリティ診断案件において、ログから攻撃の痕跡や設定不備を「証拠」として提示できるスキルは市場価値が極めて高い。

## Amazon FSx for Windows File Server
- **概要**: Windows Serverベースのフルマネージド型ファイル共有サービス。
- **試験ポイント**: SMBプロトコル対応、Active Directory (AD) 連携が必須。EFS (Linux/NFS向け) との使い分けが頻出。
- **実務での使い方**: オンプレミス共有サーバーの移行先。高可用性（Multi-AZ）やDFS（分散ファイルシステム）を活用。
- **副業での需要**: ★★★★★。既存Windows環境のクラウド移行（リフト＆シフト）案件において、AD連携を含めた設計スキルの需要は非常に高い。

## CloudFormation クロススタック参照
- **概要**: `Export` と `Fn::ImportValue` を使い、あるスタックの値を別のスタックで再利用する機能。
- **試験ポイント**: 参照されている間は削除・更新不可という「強い依存関係」。同一リージョン・アカウント内のみ。SSM Parameter Store（疎結合）との使い分け。
- **実務での使い方**: VPC等のネットワーク基盤を別スタックで管理し、複数のアプリスタックから参照させる。コンポーネントのモジュール化に必須。
- **副業での需要**: ★★★★★。モジュール化された「壊れにくいインフラ」を納品できるスキルは、GitHub等で公開できるポートフォリオとしても非常に強力。

## AWS タグの種類とガバナンス活用
- **概要**: ユーザー定義、AWS生成、コスト配分タグ、タグポリシーの4種。
- **試験ポイント**: コスト分析にはタグの「有効化」が必要。ABAC（属性ベースのアクセス制御）の基盤。
- **実務での使い方**: 運用自動化のフラグや、Resource Groupsによる一括管理に活用。命名規則の統一にはタグポリシーを適用。
- **副業での需要**: ★★★★★。コストの可視化や「野良リソース」の撲滅は、経営層へのアピール度が高く、高単価な提案に直結する。

| タグの種類 | 特徴 | 主な用途（試験・実務） |
| :--- | :--- | :--- |
| **ユーザー定義タグ** | ユーザーが自由に「キー」と「値」を決めて付与する。1リソース最大50個まで。 | リソース識別（環境・所有者）、ABAC（属性ベースのアクセス制御）、自動化のトリガー。 |
| **AWS 生成タグ** | AWSが自働付与する。プレフィックスは `aws:` 。ユーザーは編集・削除不可。 | コンソールでのフィルタリング、リソース作成者（CloudTrail連携）の追跡。 |
| **コスト配分タグ** | 管理アカウントで「有効化」することで、Cost Explorer等で集計可能になるタグ。 | **部門・プロジェクトごとの費用算出。** 副業案件やBtoB開発のコスト管理に必須。 |
| **タグポリシー** | AWS Organizationsで設定。タグの命名規則（大文字小文字等）を強制する。 | **ガバナンスの統一。** 設定漏れや表記揺れを防ぎ、組織全体の管理レベルを底上げする。 |

## CloudFormation クロススタック参照
- **概要**: `Export` と `Fn::ImportValue` を使い、あるスタックの値を別のスタックで再利用する機能。
- **試験ポイント**: 参照されている間は削除・更新不可という「強い依存関係」。同一リージョン・アカウント内のみ。SSM Parameter Store（疎結合）との使い分け。
- **実務での使い方**: VPC等のネットワーク基盤を別スタックで管理し、複数のアプリスタックから参照させる。コンポーネントのモジュール化に必須。
- **副業での需要**: ★★★★★。モジュール化された「壊れにくいインフラ」を納品できるスキルは、GitHub等で公開できるポートフォリオとしても非常に強力。

## VPC ピアリング
- **概要**: 2つのVPC間をプライベート接続する機能。1対1の通信。
- **試験ポイント**: CIDRの重複不可。推移的ルーティング（またぎ通信）不可。Transit Gatewayより低コスト（接続料無料）。
- **実務での使い方**: 環境間のセキュアな連携や、共通サービスVPCへの接続に活用。小〜中規模構成のデファクトスタンダード。
- **副業での需要**: ★★★★★。コストを抑えたセキュアなネットワーク設計として提案しやすく、シンプルで安定した運用を提供できるため評価されやすい。

## AWS Network Firewall
- **概要**: VPC全体を保護するL3-L7のマネージド型ファイアウォール。IDS/IPS機能を持つ。
- **試験ポイント**: VPCの境界（IGW/NAT GW付近）に配置。Firewall Managerによるマルチアカウント一括統制。SG/NACLとの多層防御。
- **実務での使い方**: ドメインフィルタリングによる厳格な通信制限や、侵入検知・防止（IDS/IPS）による防御力の底上げ。
- **副業での需要**: ★★★★☆。導入に伴うルーティング設計が高度なため、専門スキルとして重宝される。コンプライアンス強化を謳う提案で威力を発揮。


## その他
- cluster cache managementは範囲外
- AWS Systems Manager Maintenance Windowsは範囲外